<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Service layout · Unmock</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="In Unmock, a service represents a third-party API or microservice with which your codebase interacts. Things like Stripe, Facebook, or that pesky microservice you use to make sure users&#x27; avatars are up-to-date are all services."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Service layout · Unmock"/><meta property="og:type" content="website"/><meta property="og:url" content="https://unmock.github.io/"/><meta property="og:description" content="In Unmock, a service represents a third-party API or microservice with which your codebase interacts. Things like Stripe, Facebook, or that pesky microservice you use to make sure users&#x27; avatars are up-to-date are all services."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/logo-purple.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-107981669-5', 'auto');
              ga('send', 'pageview');
            </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-white.svg" alt="Unmock"/><h2 class="headerTitleWithLogo">Unmock</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/introduction" target="_self">Docs</a></li><li class=""><a href="https://github.com/unmock/unmock-js" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Services</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/introduction">Getting started with Unmock</a></li><li class="navListItem"><a class="navItem" href="/example">A Simple Example</a></li><li class="navListItem"><a class="navItem" href="/hello">Hello World</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Services</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/layout">Service layout</a></li><li class="navListItem"><a class="navItem" href="/loas3">Lazy OpenAPI</a></li><li class="navListItem"><a class="navItem" href="/fetching">Fetching services</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">State</h3><ul class=""><li class="navListItem"><a class="navItem" href="/setting-state">Setting state</a></li><li class="navListItem"><a class="navItem" href="/setting-state-dsl">Advanced DSL</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Expectations</h3><ul class=""><li class="navListItem"><a class="navItem" href="/expectations">Great Expectations</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Advanced usage</h3><ul class=""><li class="navListItem"><a class="navItem" href="/configuration">Configuration</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Roadmap</h3><ul class=""><li class="navListItem"><a class="navItem" href="/roadmap">Where we&#x27;re going</a></li><li class="navListItem"><a class="navItem" href="/contributing">Contributing</a></li><li class="navListItem"><a class="navItem" href="/about">About us</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/unmock/unmock.github.io/edit/source/docs/layout.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Service layout</h1></header><article><div><span><p>In Unmock, a service represents a third-party API or microservice with which your codebase interacts. Things like Stripe, Facebook, or that pesky microservice you use to make sure users' avatars are up-to-date are all services.</p>
<h2><a class="anchor" aria-hidden="true" id="directory-structure"></a><a href="#directory-structure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Directory structure</h2>
<p>Every service in unmock should be in a subfolder of the <code>__unmock__</code> folder in the root directory of a project. The subfolders must not be one of the following reserved keywords: <code>get, post, patch, delete, options, head, put, reset</code>. Generally, for clarity, it is a good idea to name them after the service, as the subfolder name defines how you will later interact with the service state. So, for example, if you are interacting with the GitHub API, <code>__unmock__/github</code> should contain the service definition for the GitHub API.</p>
<pre><code class="hljs">__unmock__/
    github/
        index<span class="hljs-selector-class">.yaml</span>
    slack/
        index<span class="hljs-selector-class">.yaml</span>
package<span class="hljs-selector-class">.json</span>
src/
tests/
</code></pre>
<p>We'll talk about how to fetch the GitHub and other service definitions in <a href="/fetching">Fetching Services</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="service-specification"></a><a href="#service-specification" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Service specification</h2>
<p>In Unmock, services are simply documents designed according to the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md">OpenAPI 3.0.0 specification</a>.</p>
<p>Unmock is able to turn most OpenAPI specifications into viable mocks without any tinkering, but there are a few service extensions we provide to make the mocks moxier. Unmock uses the <code>x-</code> pattern defined in the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#specificationExtensions">OpenAPI specification</a>.</p>
<p>Unmock also supports Lazy OpenAPI 3, which we will explore in the next section.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/hello"><span class="arrow-prev">← </span><span>Hello World</span></a><a class="docs-next button" href="/loas3"><span class="function-name-prevnext">Lazy OpenAPI</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#directory-structure">Directory structure</a></li><li><a href="#service-specification">Service specification</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.png" alt="Unmock" width="66" height="58"/></a><div><h5>Docs</h5><a href="/introduction">Introduction</a><a href="/hello">Hello World</a></div><div><h5>Community</h5><a href="https://spectrum.chat/unmock">Spectrum Chat</a><a href="https://twitter.com/meeshkanml?lang=en" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/unmock">GitHub</a></div></section><section class="copyright">Copyright © 2019 Meeshkan</section></footer></div></body></html>